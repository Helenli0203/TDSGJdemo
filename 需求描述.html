<!DOCTYPE html>
<html>
  <head>
    <title>需求描述</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <link href="resources/css/jquery-ui-themes.css" type="text/css" rel="stylesheet"/>
    <link href="resources/css/axure_rp_page.css" type="text/css" rel="stylesheet"/>
    <link href="data/styles.css" type="text/css" rel="stylesheet"/>
    <link href="files/需求描述/styles.css" type="text/css" rel="stylesheet"/>
    <script src="resources/scripts/jquery-1.7.1.min.js"></script>
    <script src="resources/scripts/jquery-ui-1.8.10.custom.min.js"></script>
    <script src="resources/scripts/axure/axQuery.js"></script>
    <script src="resources/scripts/axure/globals.js"></script>
    <script src="resources/scripts/axutils.js"></script>
    <script src="resources/scripts/axure/annotation.js"></script>
    <script src="resources/scripts/axure/axQuery.std.js"></script>
    <script src="resources/scripts/axure/doc.js"></script>
    <script src="data/document.js"></script>
    <script src="resources/scripts/messagecenter.js"></script>
    <script src="resources/scripts/axure/events.js"></script>
    <script src="resources/scripts/axure/recording.js"></script>
    <script src="resources/scripts/axure/action.js"></script>
    <script src="resources/scripts/axure/expr.js"></script>
    <script src="resources/scripts/axure/geometry.js"></script>
    <script src="resources/scripts/axure/flyout.js"></script>
    <script src="resources/scripts/axure/ie.js"></script>
    <script src="resources/scripts/axure/model.js"></script>
    <script src="resources/scripts/axure/repeater.js"></script>
    <script src="resources/scripts/axure/sto.js"></script>
    <script src="resources/scripts/axure/utils.temp.js"></script>
    <script src="resources/scripts/axure/variables.js"></script>
    <script src="resources/scripts/axure/drag.js"></script>
    <script src="resources/scripts/axure/move.js"></script>
    <script src="resources/scripts/axure/visibility.js"></script>
    <script src="resources/scripts/axure/style.js"></script>
    <script src="resources/scripts/axure/adaptive.js"></script>
    <script src="resources/scripts/axure/tree.js"></script>
    <script src="resources/scripts/axure/init.temp.js"></script>
    <script src="files/需求描述/data.js"></script>
    <script src="resources/scripts/axure/legacy.js"></script>
    <script src="resources/scripts/axure/viewer.js"></script>
    <script src="resources/scripts/axure/math.js"></script>
    <script type="text/javascript">
      $axure.utils.getTransparentGifPath = function() { return 'resources/images/transparent.gif'; };
      $axure.utils.getOtherPath = function() { return 'resources/Other.html'; };
      $axure.utils.getReloadPath = function() { return 'resources/reload.html'; };
    </script>
  </head>
  <body>
    <div id="base" class="">

      <!-- Unnamed (Rectangle) -->
      <div id="u0" class="ax_default heading_1">
        <div id="u0_div" class=""></div>
        <!-- Unnamed () -->
        <div id="u1" class="text" style="visibility: visible;">
          <p><span>存货核算</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u2" class="ax_default heading_2">
        <div id="u2_div" class=""></div>
        <!-- Unnamed () -->
        <div id="u3" class="text" style="visibility: visible;">
          <p><span>用户场景 </span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u4" class="ax_default heading_2">
        <div id="u4_div" class=""></div>
        <!-- Unnamed () -->
        <div id="u5" class="text" style="visibility: visible;">
          <p><span>系统功能描述及业务规则</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u6" class="ax_default paragraph">
        <div id="u6_div" class=""></div>
        <!-- Unnamed () -->
        <div id="u7" class="text" style="visibility: visible;">
          <p><span>1. 企业(陶德)需要定期核算门店销售成本。门店销售成本与店长绩效挂勾，以将销售成本控制在标准范围。核算日期为每月10号，20号，月末。如1月核算期(会计期)为：</span></p><p><span>2018 - 1&nbsp; - 1 期：&nbsp; 2018-1-1&nbsp; -- 2018-1-10&nbsp; &nbsp;&nbsp; 10天</span></p><p><span>2018 - 1&nbsp; - 2 期：&nbsp; 2018-1-11&nbsp; -- 2018-1-20&nbsp; &nbsp; 10天</span></p><p><span>2018 - 1&nbsp; - 3 期：&nbsp; 2018-1-21&nbsp; -- 2018-1-31&nbsp; &nbsp; 11天</span></p><p><span>2018 - 1期：&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 2018-1-1&nbsp; -- 2018-1-31&nbsp; &nbsp; &nbsp; 31天，核算全月成本</span></p><p><span><br></span></p><p><span><br></span></p><p><span>2. 存货单位成本计算方法：</span></p><p><span>期末一次加权平均 （加权平均）， 期末单位存货成本 =&nbsp; （期初成本金额+ 当期购进金额）/ (期初存货数量 + 当期进购数量)</span></p><p><span><br></span></p><p><span>当期单位销售出库成本 = 期末单位存货成本</span></p><p><span><br></span></p><p><span>当期存货销售成本 = 期末存货单价 X (期初存货量 + 当期入库量 - 期末存货量 - 当期退货量 - 当期调拨量)</span></p><p><span><br></span></p><p><span>月末核算全月成本时，以1号为期初，月末日期为期末，重算当月成本(不是当月三个会计期成本累加。)</span></p><p><span><br></span></p>
        </div>
      </div>

      <!-- Unnamed (Group) -->
      <div id="u8" class="ax_default">

        <!-- Unnamed (Rectangle) -->
        <div id="u9" class="ax_default label">
          <div id="u9_div" class=""></div>
          <!-- Unnamed () -->
          <div id="u10" class="text" style="visibility: visible;">
            <p><span>期末结转(待更新)</span></p>
          </div>
        </div>

        <!-- Unnamed (Rectangle) -->
        <div id="u11" class="ax_default paragraph">
          <div id="u11_div" class=""></div>
          <!-- Unnamed () -->
          <div id="u12" class="text" style="visibility: visible;">
            <p><span>用户可以手动触发期末结转。结转成功后：</span></p><p><span>1. 当期期末数据自动转为下期期初。</span></p><p><span>2. 当期自动关帐，系统核算相关单据不允许修改</span></p>
          </div>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u13" class="ax_default paragraph">
        <div id="u13_div" class=""></div>
        <!-- Unnamed () -->
        <div id="u14" class="text" style="visibility: visible;">
          <p><span>1. 会计月：</span></p><p><span>可以为某会计年批量设置12个会计月。会计月截止日可以是自然月末，如会计月为2018-1-1 — 2018-1-31，2018-2-1 — 2018-2-28... 也可以为任一日期，如可指定截止日为每月20号会计年为2018年，则会计月为2017-12-21 — 2018-1-20，2018-1-21 — 2018-2-20， 2018-2-21 — 2018-3-20... 2018-11-21 -- 2018-12-20</span></p><p><span><br></span></p><p><span>2. 特殊会计期：</span></p><p><span>可以指定任一时期段(小于等于31天)为特殊会计期。如：</span></p><p><span>2018 - 1&nbsp; - 1 期：&nbsp; 2018-1-1&nbsp; -- 2018-1-10</span></p><p><span>2018 - 1&nbsp; - 2 期：&nbsp; 2018-1-11&nbsp; -- 2018-1-20 </span></p><p><span>2018 - 1&nbsp; - 3 期：&nbsp; 2018-1-21&nbsp; -- 2018-1-31 </span></p><p><span><br></span></p><p><span>3. 同一日期不能属于多个特殊会计期。否则对话杠提示错误消息如下：</span></p><p><span>创建失败。以下日期已包含在其它特殊会计期中：</span></p><p><span>2018-01-01，2018-01-15</span></p><p><span>对话框可操作控件: 关闭</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u15" class="ax_default label">
        <div id="u15_div" class=""></div>
        <!-- Unnamed () -->
        <div id="u16" class="text" style="visibility: visible;">
          <p><span>会计期设置</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u17" class="ax_default label">
        <div id="u17_div" class=""></div>
        <!-- Unnamed () -->
        <div id="u18" class="text" style="visibility: visible;">
          <p><span>单位存货成本计算方式设置</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u19" class="ax_default paragraph">
        <div id="u19_div" class=""></div>
        <!-- Unnamed () -->
        <div id="u20" class="text" style="visibility: visible;">
          <p><span>可选计算方式： </span></p><p><span>1. 加权平均(期末一次加权)</span></p><p><span>(以后版本可能会增加更多计算方式如先进先出)</span></p><p><span><br></span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u21" class="ax_default label">
        <div id="u21_div" class=""></div>
        <!-- Unnamed () -->
        <div id="u22" class="text" style="visibility: visible;">
          <p><span>销售出库量计算公式设置</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u23" class="ax_default paragraph">
        <div id="u23_div" class=""></div>
        <!-- Unnamed () -->
        <div id="u24" class="text" style="visibility: visible;">
          <p><span>1. 设置销售出库量计算公式，如除去或不除去报损出库。</span></p><p><span><br></span></p><p><span><br></span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u25" class="ax_default label">
        <div id="u25_div" class=""></div>
        <!-- Unnamed () -->
        <div id="u26" class="text" style="visibility: visible;">
          <p><span>期初结存初始化(不在Sprint10范围)</span></p>
        </div>
      </div>

      <!-- Unnamed (Image) -->
      <div id="u27" class="ax_default image">
        <img id="u27_img" class="img " src="images/需求描述/u27.png"/>
        <!-- Unnamed () -->
        <div id="u28" class="text" style="display: none; visibility: hidden">
          <p><span></span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u29" class="ax_default paragraph">
        <div id="u29_div" class=""></div>
        <!-- Unnamed () -->
        <div id="u30" class="text" style="visibility: visible;">
          <p><span>期初初始化是否同时初始化/库存 (待定)</span></p><p><span><br></span></p><p><span>原型待定</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u31" class="ax_default label">
        <div id="u31_div" class=""></div>
        <!-- Unnamed () -->
        <div id="u32" class="text" style="display: none; visibility: hidden">
          <p><span></span></p>
        </div>
      </div>

      <!-- Unnamed (Group) -->
      <div id="u33" class="ax_default">

        <!-- Unnamed (Rectangle) -->
        <div id="u34" class="ax_default label">
          <div id="u34_div" class=""></div>
          <!-- Unnamed () -->
          <div id="u35" class="text" style="visibility: visible;">
            <p><span>成本核算</span></p>
          </div>
        </div>

        <!-- Unnamed (Rectangle) -->
        <div id="u36" class="ax_default paragraph">
          <div id="u36_div" class=""></div>
          <!-- Unnamed () -->
          <div id="u37" class="text" style="visibility: visible;">
            <p style="font-size:13px;line-height:normal;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">1. 计算仓库成本时，只计算仓库中物料成本(不包含物资成本，因为物资耗用计费用不计成本）。</span></p><p style="font-size:13px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';"><br></span></p><p style="font-size:13px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';"><br></span></p><p style="font-size:13px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">2. 仓库某一会计期的期初数据(物品结存单价及结存数量)来自于上该仓库上一期期末结存或期初初始化。期末单价由用户选定的存货单位成本计算方法(如加权平均法)计算得出。期末结存数量为期末盘点数量(盘点单营业日=会计期截止日的盘点单中的实盘数)。</span></p><p style="font-size:13px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';"><br></span></p><p style="font-size:13px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">2.1 如果某物品盘点数量存在于多个期末盘点单中，成本核算时取最后提交的盘点单中的实盘数为期末结存数量。</span></p><p style="font-size:13px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';"><br></span></p><p style="font-size:13px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">2.2 如果某物品无期末盘点数据，该物品的期末数取期末盘点单提交成功时的系统库存，成本核算状态为异常。如果无期末盘点单，物品期末数为0，成本核算状态为异常。</span></p><p style="font-size:13px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';"><br></span></p><p style="font-size:13px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">2.3 如果用户补录期末盘点单，期末盘点单提交成功后，系统自动更新物品相应会计期期末结存数量(当前实时库存不变)，但不自动重算成本，用户可以手动触发重算成本(补录盘点单不在Spint10范围)</span></p><p style="font-size:13px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';"><br></span></p><p style="font-size:13px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">2.4 如果某物品无期初结存数据，成本核算时取0为该物品的期初结存数量及单价。</span></p><p style="font-size:13px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';"><br></span></p><p style="font-size:13px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">3. 如果核算仓库在核算会计期中有未完成的单据(1. 单据营业日在会计期间，2. 单据已提交但状态不为最终状态)，核算中止。页面给出相应提示(见原型：期末成本核算页面)。相关单据如下：</span></p><p style="font-size:13px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">&#149; 所有类型的入库单</span></p><p style="font-size:13px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">&#149; 所有类型的出库单</span></p><p style="font-size:13px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">&#149; 退货单</span></p><p style="font-size:13px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">&#149; 调拨单</span></p><p style="font-size:13px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">&#149; 报损单</span></p><p style="font-size:13px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">&#149; 盘点单</span></p><p style="font-size:13px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">&#149; 库存调整单</span></p><p style="font-size:13px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';"><br></span></p><p style="font-size:13px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';"><br></span></p><p style="font-size:13px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">4. 核算开始后核算仓库相应会计期自动关帐，用户不能提交核算仓库在核算会计期相关的单据(单据营业日在会计期间)。关帐时提交相关单据(同上 )提示信息：成本核算中， 不能提交单据。</span></p><p style="font-size:13px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';"><br></span></p><p style="font-size:13px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">5. 核算成本时系统需检查以下几点，并提示警告信息：</span></p><p style="font-size:12px;line-height:16px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';color:#000000;">系统中是否存在核算仓库的盘点单营业日=会计期截止日的盘点单。 </span></p><p style="font-size:12px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';color:#000000;"><br></span></p><p style="font-size:12px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';color:#000000;">5.1 核算物品是否有期末盘点数据。</span></p><p style="font-size:12px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';color:#000000;"><br></span></p><p style="font-size:12px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';color:#000000;">5.2 系统中是否存在核算仓库的期初结存数据。</span></p><p style="font-size:12px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';color:#000000;"><br></span></p><p style="font-size:12px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';color:#000000;">5.3 核算物品是否有期初结存数据。</span></p><p style="font-size:12px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';color:#000000;"><br></span></p><p style="font-size:12px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';color:#000000;">5.4 当前核算的会计期是否有设置下一会计期。</span></p><p style="font-size:12px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';color:#000000;"><br></span></p><p style="font-size:12px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';color:#000000;">5.6 核算仓库中存在草稿状态的核算相关单据(单据类型见上述第3条)</span></p><p style="font-size:12px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';color:#000000;"><br></span></p><p style="font-size:12px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';color:#000000;">(警告信息见原型。期末成本核算页面 )</span></p><p style="font-size:12px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';color:#000000;"><br></span></p><p style="font-size:13px;line-height:normal;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';"><br></span></p><p style="font-size:13px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';"><br></span></p><p style="font-size:13px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">6. 单位存货单价计算结果超出4位小数时，系统计算至少取4位小数计算(四舍五入)，页面显示成本单价为3位小数(四舍五入)，成本金额为两位小数(四舍五入)。</span></p><p style="font-size:13px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';"><br></span></p><p style="font-size:13px;"><span style="font-family:'PingFangSC-Regular', 'PingFang SC';">例，某物品期末单位存货成本 = </span><span style="font-family:'ArialMT', 'Arial';"> 期末单位存货成本 =&nbsp; （期初成本金额+ 当期购进金额）/ (期初存货数量 + 当期进购数量) = 10/3 元每kg，系统计算取3.3333元，页面显示存货单价为3.333元/kg。如存货数量为1.11kg, 存货成本 = 3.3333 X 1.11 = 3.699663, 页面显示金额为： 3.70元，成本单价为3.33元/kg。</span></p><p style="font-size:13px;"><span style="font-family:'ArialMT', 'Arial';"><br></span></p><p style="font-size:13px;"><span style="font-family:'ArialMT', 'Arial';">7. 成本计算完成本通过系统消息通知用户。</span></p><p style="font-size:13px;"><span style="font-family:'ArialMT', 'Arial';">消息提示内容：[门店名] [仓库名] [会计期名] 成本核算已完成。</span></p><p style="font-size:13px;"><span style="font-family:'ArialMT', 'Arial';">如：东门店1仓2018-1期成本核算已完成。</span></p><p style="font-size:13px;"><span style="font-family:'ArialMT', 'Arial';"><br></span></p><p style="font-size:13px;"><span style="font-family:'ArialMT', 'Arial';">8. 当期成本核算完成后，当期期末结存数据(单价， 数量)自动转为下期期初。</span></p><p style="font-size:13px;"><span style="font-family:'ArialMT', 'Arial';"><br></span></p><p style="font-size:13px;"><span style="font-family:'ArialMT', 'Arial';">9. 核算完成本不关帐，即核算完成后用户仍然可以提交该核算仓库在核算会计期的单据。</span></p><p style="font-size:13px;"><span style="font-family:'ArialMT', 'Arial';"><br></span></p><p style="font-size:13px;"><span style="font-family:'ArialMT', 'Arial';"><br></span></p><p style="font-size:13px;"><span style="font-family:'ArialMT', 'Arial';"><br></span></p>
          </div>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u38" class="ax_default label">
        <div id="u38_div" class=""></div>
        <!-- Unnamed () -->
        <div id="u39" class="text" style="visibility: visible;">
          <p><span style="text-decoration:underline;">名词解释</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u40" class="ax_default label">
        <div id="u40_div" class=""></div>
        <!-- Unnamed () -->
        <div id="u41" class="text" style="visibility: visible;">
          <p><span style="text-decoration:underline;">原型</span></p>
        </div>
      </div>

      <!-- Unnamed (Image) -->
      <div id="u42" class="ax_default image">
        <img id="u42_img" class="img " src="images/需求描述/u42.png"/>
        <!-- Unnamed () -->
        <div id="u43" class="text" style="display: none; visibility: hidden">
          <p><span></span></p>
        </div>
      </div>
    </div>
  </body>
</html>
